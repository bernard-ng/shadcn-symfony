{% props
    orientation = 'horizontal',
    min = 0,
    max = 100,
    value = null,
    defaultValue = null,
    disabled = false,
%}

{% if value is iterable %}
    {% set sliderValues = value %}
{% elseif defaultValue is iterable %}
    {% set sliderValues = defaultValue %}
{% else %}
    {% set sliderValues = [min, max] %}
{% endif %}

{% set sliderValues = sliderValues is iterable ? sliderValues|values : [min, max] %}

<div
    data-slot="slider"
    data-orientation="{{ orientation }}"
    aria-orientation="{{ orientation }}"
    data-min="{{ min }}"
    data-max="{{ max }}"
    {% if disabled %}data-disabled="true" aria-disabled="true"{% endif %}
    class="{{ cn(
        'relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col',
        attributes.render('class')
    ) }}"
    {{ attributes }}
>
    {% block track %}
        <div
            data-slot="slider-track"
            data-orientation="{{ orientation }}"
            class="{{ cn(
                'bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5'
            ) }}"
        >
            {% block range %}
                <div
                    data-slot="slider-range"
                    data-orientation="{{ orientation }}"
                    class="{{ cn('bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full') }}"
                ></div>
            {% endblock %}
        </div>
    {% endblock %}

    {% block thumbs %}
        {% for sliderValue in sliderValues %}
            <span
                data-slot="slider-thumb"
                data-orientation="{{ orientation }}"
                data-value="{{ sliderValue }}"
                {% if disabled %}data-disabled="true" aria-disabled="true"{% endif %}
                class="border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"
            ></span>
        {% endfor %}
    {% endblock %}
</div>
